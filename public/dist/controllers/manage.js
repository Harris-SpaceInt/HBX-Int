"use strict";var app=angular.module("manage",["myApp"]);app.controller("manageCtrl",function(a,e,n,l,t,i){a.sharedData=n,a.manager=n.globalManager[0],a.addManager=[],a.dropdown=t,a.validate=i,a.pageInit=function(){a.sharedData.loggedIn()?a.addManager.push(a.manager):e.location.href="#!/login"},a.updateInfo=function(){var n=a.addManager[0];if(a.validate.validateField(n.name))if(a.validate.validateField(n.unit))if(a.validate.validateField(n.department))if(a.validate.validatePhone(n.phone)){a.sharedData.setGlobalManager(angular.copy(n)),a.addManager=[];var t=l.getManagerByEmail(a.manager.email);t.then(function(a){if(null!==a){var t=l.updateManagerInDatabase(a._id,n);t.then(function(){e.location.href="#!/previous"})}else console.log("Error: Manager not in database")})}else alert("Invalid phone");else alert("Invalid department");else alert("Invalid unit");else alert("Invalid name")},a.goBackToPrevious=function(){e.location.href="#!/previous"},a.pageInit()});